version: "3.9"  # Modern, compatible with Podman and Docker

services:
  fastapi:
    image: fastapi_001:1.5         # Local image we built
    container_name: fastapi        # Name of container
    ports:
      - "8000:8000"               # Map host 8000 to container 8000
    volumes:
      - logs:/app/logs            # Persistent log directory
    networks:
      - fastapi-network           # Custom bridge network
    restart: unless-stopped        # Auto restart if container crashes

# Define named volume
volumes:
  logs:

# Define custom network
networks:
  fastapi-network:
    driver: bridge
